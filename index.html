<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PMGC Official</title>

<style>
*{box-sizing:border-box;font-family:Cairo,sans-serif}
body{margin:0;background:#000;color:#fff}
video{position:fixed;inset:0;width:100%;height:100%;object-fit:cover;z-index:-2}
.overlay{position:fixed;inset:0;background:rgba(0,0,0,.85);z-index:-1}

.container{max-width:420px;margin:20px auto;padding:20px;
background:rgba(10,10,10,.8);border-radius:20px;
box-shadow:0 0 25px #ff4500}

h1{text-align:center;color:#ff4500}

input,select,button{
width:100%;padding:12px;margin:6px 0;
border-radius:12px;border:none;font-size:15px
}
input,select{background:#111;color:#fff;border:1px solid #ff4500}
button{background:linear-gradient(135deg,#ff4500,#ff9900);font-weight:bold}

.hidden{display:none}

.fire{
position:fixed;bottom:0;left:0;width:100%;height:120px;
background:url('https://i.imgur.com/8Qf4JQF.gif') repeat-x;
opacity:.7;pointer-events:none
}

.card{border:1px solid #ff4500;border-radius:12px;padding:10px;margin:10px 0}
.first{color:gold;font-weight:bold}

nav button{margin-top:10px}
</style>
</head>

<body>

<video autoplay muted loop>
<source src="https://cdn.coverr.co/videos/coverr-battlefield-smoke-1574/1080p.mp4">
</video>
<div class="overlay"></div>
<div class="fire"></div>

<div class="container">

<h1>ğŸ”¥ PMGC ğŸ”¥</h1>

<nav>
<button onclick="show('apply')">ğŸ® Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…</button>
<button onclick="show('results')">ğŸ† Ø§Ù„Ù†ØªØ§Ø¦Ø¬</button>
<button onclick="adminLogin()">ğŸ” Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</button>
</nav>

<!-- Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… -->
<div id="apply">
<input id="name" placeholder="Ø§Ø³Ù… Ø§Ù„Ù„Ø§Ø¹Ø¨">
<input id="pid" placeholder="ID">
<select id="room">
<option>Room 1</option>
<option>Room 2</option>
<option>Room 3</option>
<option>Room 4</option>
</select>
<button onclick="apply()">ØªÙ‚Ø¯ÙŠÙ… & ÙˆØ§ØªØ³Ø§Ø¨</button>
</div>

<!-- Ø§Ù„Ù†ØªØ§Ø¦Ø¬ -->
<div id="results" class="hidden"></div>

<!-- Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… -->
<div id="admin" class="hidden">
<h3>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h3>
<button onclick="renderResults()">ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†ØªØ§Ø¦Ø¬</button>
</div>

</div>

<script>
const ADMIN_PASS="PMGC_ADMIN";
const MOD_PASS="PMGC_MOD";
const PHONE="2001270382949";

function show(id){
document.querySelectorAll('#apply,#results,#admin')
.forEach(x=>x.classList.add('hidden'));
document.getElementById(id).classList.remove('hidden');
}

function apply(){
const name=nameInput.value=name.value.trim();
const pidv=pid.value.trim();
const roomv=room.value;
if(!name||!pidv)return alert("ÙƒÙ…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");

let data=JSON.parse(localStorage.getItem("players")||"[]");
let points=10+Math.floor(Math.random()*10);

data.push({name:name,id:pidv,room:roomv,points});
localStorage.setItem("players",JSON.stringify(data));

let msg=`ğŸ”¥ ØªØ³Ø¬ÙŠÙ„ PMGC ğŸ”¥
Ø§Ù„Ø§Ø³Ù…: ${name}
ID: ${pidv}
Ø§Ù„Ø±ÙˆÙ…: ${roomv}
Ø§Ù„Ù†Ù‚Ø§Ø·: ${points}`;

window.open(`https://wa.me/${PHONE}?text=${encodeURIComponent(msg)}`);

name.value=pid.value="";
confetti();
}

function renderResults(){
let box=document.getElementById("results");
box.innerHTML="<h3>ğŸ† Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h3>";
let data=JSON.parse(localStorage.getItem("players")||"[]");
data.sort((a,b)=>b.points-a.points);
data.forEach((p,i)=>{
box.innerHTML+=`
<div class="card ${i==0?'first':''}">
${i==0?'ğŸ‘‘ Ø§Ù„Ù…Ø±ÙƒØ² Ø§Ù„Ø£ÙˆÙ„':''}
<p>Ø§Ù„Ø§Ø³Ù…: ${p.name}</p>
<p>Ø§Ù„Ø±ÙˆÙ…: ${p.room}</p>
<p>Ø§Ù„Ù†Ù‚Ø§Ø·: ${p.points}</p>
</div>`;
});
show('results');
}

function adminLogin(){
let p=prompt("ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±");
if(p===ADMIN_PASS||p===MOD_PASS){
show('admin');
renderResults();
}else alert("Ù…Ø±ÙÙˆØ¶");
}

/* confetti */
function confetti(){
for(let i=0;i<30;i++){
let d=document.createElement("div");
d.style.position="fixed";
d.style.left=Math.random()*100+"%";
d.style.top="-10px";
d.style.width=d.style.height="8px";
d.style.background=["red","yellow","orange"][i%3];
d.style.animation="fall 2s linear";
document.body.appendChild(d);
setTimeout(()=>d.remove(),2000);
}
}

const style=document.createElement("style");
style.innerHTML="@keyframes fall{to{transform:translateY(100vh)}}";
document.head.appendChild(style);
</script>

</body>
</html>
